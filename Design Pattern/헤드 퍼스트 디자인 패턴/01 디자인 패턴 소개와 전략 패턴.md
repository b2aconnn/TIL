# μ²« λ²μ§Έ λ””μμΈ ν¨ν„΄: μ „λµ ν¨ν„΄

**μ „λµ ν¨ν„΄(Strategy Pattern)μ΄λ€ μ•κ³ λ¦¬μ¦κµ°μ„ μ •μν•κ³  μΊ΅μν™”ν•΄μ„ κ°κ°μ μ•κ³ λ¦¬μ¦κµ°μ„ μμ •ν•΄μ„ μ“Έ μ μκ² ν•΄μ£Όλ” ν¨ν„΄μ΄λ‹¤.**

- μ „λµ ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ•κ³ λ¦¬μ¦μ„ λ¶„λ¦¬ν•΄μ„ λ…λ¦½μ μΌλ΅ λ³€κ²½ κ°€λ¥

<br>

## μ¤λ¦¬ μ‹λ®¬λ μ΄μ… κ²μ„, SimUDuck

**κΈ°μ΅΄ μ¤λ¦¬ μ‹λ®¬λ μ΄μ… κ²μ„μ κ°μ²΄ μ§€ν–¥ λ””μμΈ**

<img width="500" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 5 17 19" src="https://github.com/b2aconnn/TIL/assets/101120568/1f4bd7e0-77a1-42c7-a004-b2f3d6a9a791">

<br>

**μ”κµ¬μ‚¬ν•­ μ¶”κ°€:κΈ°μ΅΄μ κΈ°λ¥μ—μ„ μ¤λ¦¬μ λ‚λ” ν–‰λ™(fly) κΈ°λ¥ μ¶”κ°€**

- Duck ν΄λμ¤μ— fly() λ©”μ†λ“λ§ μ¶”κ°€ν•΄ λ¨λ“  μ¤λ¦¬κ°€ μƒμ†λ°›λ” λ””μμΈ

<img width="400" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 5 23 19" src="https://github.com/b2aconnn/TIL/assets/101120568/567ca691-2443-437f-b318-72d8cb6ebf7e">

β—οΈλ¨λ“  μ¤λ¦¬κ°€ fly()λ¥Ό μƒμ† λ°›μ„ κ²½μ°, fly() κΈ°λ¥μ΄ ν•„μ”ν•μ§€ μ•μ€ κ³ λ¬΄ μ¤λ¦¬κ°€ λ‚ λΌλ‹¤λ‹λ” λ²„κ·Έ λ°μƒ

<img width="500" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 5 33 00" src="https://github.com/b2aconnn/TIL/assets/101120568/8f3dde94-d486-451e-bbfb-b82ed54bd8f2">

<br>

### μƒμ†μΌλ΅ ν•΄κ²°ν•΄λ³΄κΈ°

Duck ν΄λμ¤λ¥Ό μƒμ† ν›„ μ¤λ²„λΌμ΄λ”©ν•λ” λ°©λ²•

<img width="400" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 5 39 22" src="https://github.com/b2aconnn/TIL/assets/101120568/14b61750-cb95-4b6a-9af1-2be72b4df49d">

β—οΈμƒμ†ν•  λ•μ λ‹¨μ 

- μ„λΈν΄λμ¤μ—μ„ μ½”λ“κ°€ μ¤‘λ³µ
- μ‹¤ν–‰ μ‹ νΉμ§• λ³€κ²½ μ–΄λ ¤μ›€
- λ¨λ“  μ¤λ¦¬μ ν–‰λ™μ„ μ•κΈ° νλ“¦
- μ½”λ“λ¥Ό λ³€κ²½ν–μ„ λ• λ‹¤λ¥Έ μ¤λ¦¬λ“¤μ—κ² μ›μΉ μ•μ€ μν–¥μ„ μ¤

<br>

### μΈν„°νμ΄μ¤ μ„¤κ³„ν•΄λ³΄κΈ°

fly() λ©”μ†λ“λ” Flyable μΈν„°νμ΄μ¤λ΅ quack() λ©”μ†λ“λ” Quackable μΈν„°νμ΄μ¤λ΅ λ”°λ΅ λ¶„λ¦¬ν• λ‹¤μ, λ‚  μ μλ” μ¤λ¦¬μ—κ²λ§ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ°©λ²•

<img width="450" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 5 51 49" src="https://github.com/b2aconnn/TIL/assets/101120568/55392e2a-595d-4cda-8e78-39ec87845893">

β—οΈμ„μ™€ κ°™μ€ λ””μμΈμ€ κµ¬ν„ ν΄λμ¤μ—μ„μ μ½”λ“ μ¤‘λ³µ λ°μƒ

<br>

π¤” **λ¨λ“  μ„λΈ ν΄λμ¤κ°€ λ‚ κ±°λ‚ κ½¥κ½¥ μ°λ” κΈ°λ¥μ΄ μμ–΄μ•Ό ν•λ” κ²ƒμ€ μ•„λ‹λ―€λ΅ μƒμ†μ΄ μ¬λ°”λ¥Έ λ°©λ²•μ€ μ•„λ‹λ‹¤. μ„μ™€ κ°™μ΄ μΈν„°νμ΄μ¤ μ‚¬μ©λ„ μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ½”λ“ κ΄€λ¦¬μ— λ¬Έμ κ°€ μƒκ²¨ ν•΄κ²° λ°©λ²•μΌλ΅ μ ν•©ν•μ§€ μ•λ‹¤.**

κ·ΈλΌ μ–΄λ–¤ λ°©λ²•μ΄ μμ„κΉ?

<br>

### λ°”λ€λ” λ¶€λ¶„κ³Ό κ·Έλ ‡μ§€ μ•μ€ λ¶€λ¶„μΌλ΅ λ¶„λ¦¬ν•΄λ³΄κΈ°

'λ³€ν™”ν•λ” λ¶€λ¶„κ³Ό κ·Έλ€λ΅ μλ” λ¶€λ¶„'μ„ λ¶„λ¦¬ν•λ ¤λ©΄ 2κ°μ ν΄λμ¤ μ§‘ν•©(set)μ„ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.

- λ‚λ” κ²ƒκ³Ό κ΄€λ ¨λ λ¶€λ¶„κ³Ό κ½¥κ½¥κ±°λ¦¬λ” κ²ƒκ³Ό κ΄€λ ¨ λ¶€λ¶„μΌλ΅ λ‚λ  κ° ν΄λμ¤ μ§‘ν•©μ— κ°κ°μ ν–‰λ™μ„ κµ¬ν„ν• κ²ƒμ„ μ „λ¶€ λ„£λ”λ‹¤.

<img width="450" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 6 33 47" src="https://github.com/b2aconnn/TIL/assets/101120568/4a5eca6a-cbe8-460f-91f0-1e1c28ca3cba">

<br>

### ν–‰λ™μ„ κµ¬ν„ν•λ” λ°©λ²•

π’΅**κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤.**

- κ° ν–‰λ™μ€ μΈν„°νμ΄μ¤λ΅ ν‘ν„ν•κ³  μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ„ ν–‰λ™μ„ κµ¬ν„

<br>

FlyBehaviorμ™€ QuackBehavior 2κ°μ μΈν„°νμ΄μ¤μ™€ κµ¬μ²΄μ μΈ ν–‰λ™μ„ κµ¬ν„ν•λ” ν΄λμ¤λ“¤

<img width="550" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 6 56 43" src="https://github.com/b2aconnn/TIL/assets/101120568/b3dded17-d9da-4871-a78f-d55d4a4f88fe">

- μ„μ™€ κ°™μ€ λ””μμΈμ€ λ‹¤λ¥Έ ν•μ‹μ κ°μ²΄μ—μ„λ„ λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ μ¬μ‚¬μ©ν•  μ μλ” μ¥μ μ΄ μλ‹¤.
- λ°”λ€λ” λ¶€λ¶„μ„ λ”°λ΅ λ¶„λ¦¬ν•΄ Duck ν΄λμ¤λ¥Ό κ±΄λ“λ¦¬μ§€ μ•κ³ λ„ μƒλ΅μ΄ ν–‰λ™μ„ μ¶”κ°€ν•  μ μλ‹¤.

<br>

### ν–‰λ™ ν†µν•©ν•κΈ°

λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ Duck ν΄λμ¤ **(μ„λΈ ν΄λμ¤)μ—μ„ μ •μν• λ©”μ†λ“λ¥Ό μ¨μ„ κµ¬ν„ν•μ§€ μ•κ³  λ‹¤λ¥Έ ν΄λμ¤μ— μ„μ„**

- μΈν„°νμ΄μ¤ ν•μ‹μ μΈμ¤ν„΄μ¤ λ³€μλ¥Ό Duck ν΄λμ¤μ— μ„ μ–Έν•΄ μ‹¤ν–‰ μ‹μ— νΉμ • ν–‰λ™μ λ νΌλ°μ¤(μ„μ„ λ°›μ€ κµ¬ν„ ν΄λμ¤)λ¥Ό μ €μ¥ν•  μ μμ

<img width="607" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 7 13 44" src="https://github.com/b2aconnn/TIL/assets/101120568/0a2e6ba0-8f4e-451b-9630-9426e9e4baf4">

<br>

### μ½”λ“ ν…μ¤νΈ

**Duck ν΄λμ¤**

~~~java
public abstract class Duck {
    FlyBehavior flyBehavior;
    QuackBehavior quackBehavior;

    public Duck() { }

    public abstract void display();
    public void performFly() {
        // ν–‰λ™ ν΄λμ¤μ— μ„μ„
        flyBehavior.fly();
    }
    public void performQuack() {
        // ν–‰λ™ ν΄λμ¤μ— μ„μ„
        quackBehavior.quack();
    }
    public void swim() {
        System.out.println("swim ~");
    }

    // λ™μ μΌλ΅ ν–‰λ™ μ§€μ •
    public void setFlyBehavior(FlyBehavior fb) {
        flyBehavior = fb;
    }
}
~~~

<br>

**MallardDuck ν΄λμ¤**

~~~java
public class MallardDuck extends Duck {
    public MallardDuck() {
        quackBehavior = new Quack();
        flyBehavior = new FlyWithWings();
    }
    public void display() {
        System.out.println("μ €λ” λ¬Όμ¤λ¦¬μ…λ‹λ‹¤");
    }
}
~~~

<br>

**FlyBehavior μΈν„°νμ΄μ¤μ™€ ν–‰λ™ κµ¬ν„ ν΄λμ¤**

~~~java
public interface FlyBehavior {
    public void fly();
}

public class FlyWithWings implements FlyBehavior {
    public void fly() {
        System.out.println("λ‚ κ³  μμ");
    }
}

public class FlyNoWay implements FlyBehavior {
    public void fly() {
        System.out.println("λ‚ μ§€ λ» ν•¨");
    }
}
~~~

<br>

**μ‹¤ν–‰ μ½”λ“**

~~~java
public class MiniDuckSimulator {
    public static void main(String[] args) {
        Duck mallard = new MallardDuck();
        mallard.performFly();

        Duck model = new ModelDuck();
        model.performFly();
        // λ™μ  ν–‰λ™ μ§€μ •
        model.setFlyBehavior(new FlyRocketPowered());
        model.performFly();
    }
}
~~~

<br>

### μΊ΅μν™”λ ν–‰λ™

<img width="600" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 7 26 37" src="https://github.com/b2aconnn/TIL/assets/101120568/c9740331-b6e5-43e9-b303-cb6bc2d84607">

κ° μ¤λ¦¬μ—λ” FlyBehaviorμ™€ QuackBehaviorκ°€ μμΌλ©°, κ°κ° λ‚λ” ν–‰λ™κ³Ό κ½¥κ½¥κ±°λ¦¬λ” ν–‰λ™μ„ μ„μ„ λ°›λ”λ‹¤.

- **μ΄λ° μ‹μΌλ΅ λ‘ ν΄λμ¤λ¥Ό ν•©μΉλ” κ²ƒμ„ 'κµ¬μ„±(composition)μ„ μ΄μ©ν•λ‹¤' λΌκ³  λ¶€λ¥Έλ‹¤.**

<br>

## μ†ν”„νΈμ›¨μ–΄ κ°λ° λ¶λ³€μ μ§„λ¦¬

**μ–΄λ””μ—μ„λ“  μ–΄λ–¤ ν”„λ΅κ·Έλλ° μ–Έμ–΄λ¥Ό μ“°λ“  λ¬΄μ—‡μ„ λ§λ“¤λ“  μ†ν”„νΈμ›¨μ–΄ κ°λ°μ—μ„ μ λ€λ΅ λ°”λ€μ§€ μ•λ” μ§„λ¦¬λ” λ³€ν™”μ΄λ‹¤.**

- λ””μμΈμ„ μν• μ–΄ν”λ¦¬μΌ€μ΄μ…μ΄λΌλ„ μ‹κ°„μ΄ μ§€λ‚¨μ— λ”°λΌ λ³€ν™”ν•κ³  μ„±μ¥ν•΄μ•Ό ν•λ‹¤.

<br>

## λ””μμΈ μ›μΉ™

1. **μ²« λ²μ§Έ μ›μΉ™: μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¬λΌμ§€λ” λ¶€λ¶„μ„ μ°Ύμ•„λ‚΄κ³ , λ‹¬λΌμ§€μ§€ μ•λ” λ¶€λ¶„κ³Ό λ¶„λ¦¬ν•λ‹¤.**
   - λ°”λ€λ” λ¶€λ¶„μ€ λ”°λ΅ λ½‘μ•„μ„ μΊ΅μν™”ν•λ‹¤. κ·Έλ¬λ©΄ λ‚μ¤‘μ— λ°”λ€μ§€ μ•λ” λ¶€λ¶„μ—λ” μν–¥μ„ λ―ΈμΉμ§€ μ•κ³  κ·Έ λ¶€λ¶„λ§ κ³ μΉκ±°λ‚ ν™•μ¥ν•  μ μλ‹¤.
   - **λ¨λ“  ν¨ν„΄μ€ 'μ‹μ¤ν…μ μΌλ¶€λ¶„μ„ λ‹¤λ¥Έ λ¶€λ¶„κ³Ό λ…λ¦½μ μΌλ΅ λ³€ν™”μ‹ν‚¬ μ μλ”' λ°©λ²•μ„ μ κ³µ**

2. **λ‘ λ²μ§Έ μ›μΉ™: κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤.**
   - κ° ν–‰λ™μ€ μΈν„°νμ΄μ¤λ΅ ν‘ν„ν•κ³  μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ„ ν–‰λ™μ„ κµ¬ν„
   - νΉμ • κµ¬ν„μ„ μμ΅΄ν•¨μ— λ”°λΌ ν–‰λ™μ„ λ³€κ²½ν•  μ—¬μ§€κ°€ μ—†λ λ‹¨μ μ„ μ—†μ• μ¤
3. **μ„Έ λ²μ§Έ μ›μΉ™: μƒμ†λ³΄λ‹¤λ” κµ¬μ„±μ„ ν™μ©ν•λ‹¤.**
   - λ‘ ν΄λμ¤λ¥Ό ν•©μΉλ” κ²ƒμ„ 'κµ¬μ„±μ„ μ΄μ©ν•λ‹¤'λΌκ³  λ¶€λ¥Έλ‹¤.
   - κµ¬μ„±μ„ ν™μ©ν•΄μ„ μ‹μ¤ν…μ„ λ§λ“¤λ©΄ μ μ—°μ„±μ„ ν¬κ² ν–¥μƒμ‹ν‚¬ μ μλ‹¤.

<br>

π’β€β™‚οΈ **"μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤"λΌλ” λ§μ€ "μƒμ„ ν•μ‹μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λ‹¤"λΌλ” λ§μ΄λ‹¤.**

- μ‹¤μ  μ‹¤ν–‰ μ‹μ— μ“°μ΄λ” κ°μ²΄κ°€ μ½”λ“μ— κ³ μ •λμ§€ μ•λ„λ΅ μƒμ„ ν•μ‹(supertype)μ— λ§μ¶° ν”„λ΅κ·Έλλ°ν•΄μ„ λ‹¤ν•μ„±μ„ ν™μ©ν•΄μ•Ό ν•λ‹¤λ” μ μ΄λ‹¤.
- "μƒμ„ ν•μ‹μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°ν•λΌ"μ μ›μΉ™
  - λ³€μλ¥Ό μ„ μ–Έν•  λ• λ³΄ν†µ μ¶”μƒ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤ κ°™μ€ μƒμ„ ν•μ‹μΌλ΅ μ„ μ–Έν•΄μ•Ό ν•λ‹¤.
    - κ°μ²΄λ¥Ό λ³€μμ— λ€μ…ν•  λ• μƒμ„ ν•μ‹μ„ κµ¬μ²΄μ μΌλ΅ κµ¬ν„ν• ν•μ‹μ΄λΌλ©΄ μ–΄λ–¤ κ°μ²΄λ“  λ„£μ„ μ μκΈ° λ•λ¬Έμ΄λ‹¤.
    - λ³€μλ¥Ό μ„ μ–Έν•λ” ν΄λμ¤μ—μ„ μ‹¤μ  κ°μ²΄μ ν•μ‹μ„ λ°λΌλ„ λλ‹¤.

<img width="500" alt="μ¤ν¬λ¦°μƒ· 2023-08-14 μ¤ν›„ 6 49 50" src="https://github.com/b2aconnn/TIL/assets/101120568/34c8244d-fcce-4826-ab26-32619b40cd14">

<br>

## ν¨ν„΄κ³Ό μ „λ¬Έ μ©μ–΄μ™€ ν¨ν„΄ μ‚¬μ©λ²•

### ν¨ν„΄κ³Ό μ „λ¬Έ μ©μ–΄ 

π‘‰ ν¨ν„΄μΌλ΅ μ†ν†µν•λ©΄ κµ¬κµ¬μ μ  λ§ν•  λ•λ³΄λ‹¤ ν›¨μ”¬ ν¨μ¨μ μΈ μμ‚¬μ†ν†µμ΄ κ°€λ¥ν•λ‹¤.

- **μ„λ΅ μ•κ³  μλ” ν¨ν„΄μ΄ λ§‰κ°•ν•¨**
  - μ»¤λ®¤λ‹μΌ€μ΄μ… μ‹ ν¨ν„΄μΌλ΅ μμ‚¬ μ†ν†µν•λ©΄ ν¨ν„΄ μ΄λ¦„κ³Ό ν¨ν„΄μ λ¨λ“  λ‚΄μ©, νΉμ„± μ μ•½ μ΅°κ±΄ λ“±μ„ ν•¨κ» μ΄μ•ΌκΈ°ν•  μ μμ
- **ν¨ν„΄μ„ μ‚¬μ©ν•λ©΄ κ°„λ‹¨ν• λ‹¨μ–΄λ΅ λ§μ€ μ΄μ•ΌκΈ°λ¥Ό ν•  μ μμ**
  - ν¨ν„΄μ„ μ‚¬μ©ν•΄ μ„¤λ…ν•λ©΄ λ‹¤λ¥Έ κ°λ°μμ—κ² λ‚΄κ°€ μƒκ°ν•κ³  μλ” λ””μμΈμ„ λΉ λ¥΄κ³  μ •ν™•ν•κ² μ „λ‹¬ κ°€λ¥
- **ν¨ν„΄ μμ¤€μ—μ„ μ΄μ•ΌκΈ°ν•λ©΄ λ””μμΈμ— λ” μ¤λ«λ™μ• μ§‘μ¤‘ν•  μ μμ**
  - κµ¬ν„ν•λ” κ°μ²΄μ— λ€ν• λ””ν…μΌν• μ–κΈ°λ¥Ό ν•  ν•„μ”κ°€ μ—†μ–΄ μ‹κ°„μ„ μ•„κ»΄ λ””μμΈ μμ¤€μ— μ΄μ μ„ λ§μ¶° μ΄μ•ΌκΈ°ν•  μ μμ
- **μ „λ¬Έ μ©μ–΄λ¥Ό μ‚¬μ©ν•΄ κ°λ°ν€μ λ¥λ ¥μ„ κ·Ήλ€ν™”μ‹ν‚΄**
  - λ””μμΈ ν¨ν„΄ μ©μ–΄λ¥Ό λ¨λ“  ν€μ›μ΄ μ μ•κ³  μλ‹¤λ©΄ μ¤ν•΄μ μ†μ§€κ°€ μ¤„μ–΄ μ‘μ—…μ„ λ³΄λ‹¤ λΉ λ¥΄κ² μ§„ν–‰ν•  μ μμ

<br>

### λ””μμΈ ν¨ν„΄ μ‚¬μ©λ²•

π’β€β™‚οΈ **λΌμ΄λΈλ¬λ¦¬λ‚ ν”„λ μ„μ›ν¬κ°€ λ„μ™€μ£Όμ§€ λ»ν•λ” λ¶€λ¶„μ„ λ„μ™€μ£Όλ” κ²ƒμ΄ λ””μμΈ ν¨ν„΄μ΄λ‹¤.**

- ν΄λμ¤μ™€ κ°μ²΄λ¥Ό κµ¬μ„±ν•΄μ„ μ–΄λ–¤ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” λ°©λ²•μ„ μ κ³µ

- κ°„λ‹¨ν•μ§€λ§μ€ μ•μ€ κ°μ²΄μ§€ν–¥ μ‹μ¤ν… κµ¬μ¶• λ°©λ²•λ“¤μ„ λ¨μ•„μ„ λ””μμΈ ν¨ν„΄μ„ λ§λ“¦

<br>

